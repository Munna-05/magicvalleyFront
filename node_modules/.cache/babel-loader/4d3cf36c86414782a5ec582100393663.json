{"ast":null,"code":"import _slicedToArray from\"/Users/amalp.k/Desktop/magicValley/magicvalley/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import moment from'moment';import React from'react';import{useState}from'react';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useNavigate}from'react-router-dom';import{useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Bookings=function Bookings(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),address=_useState4[0],setAddress=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),number=_useState6[0],setNumber=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),bookingDate=_useState8[0],setBookingDate=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),checkout=_useState10[0],setCheckout=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),numberOfppl=_useState12[0],setNumberOfppl=_useState12[1];var navigate=useNavigate();var admin=localStorage.getItem('admin');var user=localStorage.getItem('user');useEffect(function(){// if (!admin) navigate('/magicAdmin')\n},[]);var bookingDetails={name:name,address:address,phone:number,booking:bookingDate,date:moment(Date.now()).format('ll'),checkout:checkout,numberOfPeople:numberOfppl};var handleSubmit=function handleSubmit(){if(name===''||address===''||number===''||bookingDate===''){toast.error('Enter all Booking Details',{autoClose:1000});}else{toast.success('Booking Successfull',{autoClose:600});axios.post('http://localhost:5000/admin/add_booking',bookingDetails).then(function(res){setAddress('');setName('');setNumber();setBookingDate('');console.table(bookingDetails);});}};var toAllBookings=function toAllBookings(){navigate('/admin/toAllBookings');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-10 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" mx-auto shadow shadow-md shadow-slate-600 md:w-1/4 sm:w-1/4 lg:w-1/4 pb-5 pt-1 px-1 bg-white mt-16\",style:{height:'auto'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 text-lg font-bold text-white py-5 \",style:{width:'auto'},children:\"Add Booking\"}),/*#__PURE__*/_jsx(\"input\",{value:name,required:true,placeholder:\"Enter Name\",onChange:function onChange(e){return setName(e.target.value);},type:\"text\",className:\"bg-slate-200 py-1 px-2 text-sm mt-16 w-2/3 rounded my-2 mx-2\"}),/*#__PURE__*/_jsx(\"textarea\",{value:address,required:true,placeholder:\"Enter Address\",onChange:function onChange(e){return setAddress(e.target.value);},type:\"text\",className:\"bg-slate-200 h-20 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2\"}),/*#__PURE__*/_jsx(\"input\",{value:number,required:true,placeholder:\"Enter Phone Number\",onChange:function onChange(e){return setNumber(e.target.value);},minLength:10,maxLength:10,type:\"Number\",className:\"bg-slate-200 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm flex py-1 px-10 ml-7 text-sm w-2/3 rounded my-2 mx-2\",htmlFor:\"\",children:\"Check in Date\"}),/*#__PURE__*/_jsx(\"input\",{value:bookingDate,required:true,placeholder:\"\",type:\"date\",onChange:function onChange(e){return setBookingDate(e.target.value);},className:\"bg-slate-200 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm flex py-1 px-10 ml-7 text-sm w-2/3 rounded my-2 mx-2\",htmlFor:\"\",children:\"Check out Date\"}),/*#__PURE__*/_jsx(\"input\",{value:checkout,required:true,placeholder:\"\",type:\"date\",onChange:function onChange(e){return setCheckout(e.target.value);},className:\"bg-slate-200 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2\"}),/*#__PURE__*/_jsx(\"input\",{value:numberOfppl,required:true,placeholder:\"Number of People\",onChange:function onChange(e){return setNumberOfppl(e.target.value);},minLength:10,maxLength:10,type:\"Number\",className:\"bg-slate-200 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"mx-auto mt-5 bg-blue-500 px-5 py-1 text-white\",style:{width:'17vw'},children:\"Add\"})})]}),admin?/*#__PURE__*/_jsx(\"div\",{className:\"text-right md:w-1/4 sm:w-1/4 lg:w-1/4 mx-auto\",children:/*#__PURE__*/_jsx(\"button\",{onClick:toAllBookings,className:\"mt-5 bg-slate-500 px-5  py-2 text-white hover:bg-opacity-50 hover:bg-blue-500 transition duration-200 hover:border hover:text-black hover:border-black \",children:\"View all Bookings\"})}):null]})]});};export default Bookings;","map":{"version":3,"names":["moment","React","useState","ToastContainer","toast","useNavigate","useEffect","axios","Bookings","name","setName","address","setAddress","number","setNumber","bookingDate","setBookingDate","checkout","setCheckout","numberOfppl","setNumberOfppl","navigate","admin","localStorage","getItem","user","bookingDetails","phone","booking","date","Date","now","format","numberOfPeople","handleSubmit","error","autoClose","success","post","then","res","console","table","toAllBookings","height","width","e","target","value"],"sources":["/Users/amalp.k/Desktop/magicValley/magicvalley/src/Admin/AdminComponents/Bookings.jsx"],"sourcesContent":["import moment from 'moment'\nimport React from 'react'\nimport { useState } from 'react'\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport axios from 'axios'\n\n\nconst Bookings = () => {\n  const [name, setName] = useState('')\n  const [address, setAddress] = useState('')\n  const [number, setNumber] = useState()\n  const [bookingDate, setBookingDate] = useState('')\n  const [checkout, setCheckout] = useState('')\n  const [numberOfppl, setNumberOfppl] = useState('')\n  const navigate = useNavigate()\n\n  const admin = localStorage.getItem('admin')\n  const user = localStorage.getItem('user')\n  useEffect(() => {\n\n    // if (!admin) navigate('/magicAdmin')\n\n\n\n  }, [])\n\n  const bookingDetails = {\n    name: name,\n    address: address,\n    phone: number,\n    booking: bookingDate,\n    date: moment(Date.now()).format('ll'),\n    checkout:checkout,\n    numberOfPeople:numberOfppl\n  }\n\n  const handleSubmit = () => {\n    if (name === '' || address === '' || number === '' || bookingDate === '') {\n      toast.error('Enter all Booking Details', { autoClose: 1000 })\n    } else {\n      toast.success('Booking Successfull', { autoClose: 600 })\n      axios.post('http://localhost:5000/admin/add_booking',bookingDetails).then((res)=>{\n        setAddress('')\n        setName('')\n        setNumber()\n        setBookingDate('')\n        console.table(bookingDetails)\n      })\n     \n    }\n  }\n  const toAllBookings = () => {\n    navigate('/admin/toAllBookings')\n  }\n  return (\n    <div>\n      <ToastContainer />\n      <div className='flex items-center p-10 w-full'>\n        <div className=' mx-auto shadow shadow-md shadow-slate-600 md:w-1/4 sm:w-1/4 lg:w-1/4 pb-5 pt-1 px-1 bg-white mt-16' style={{ height: 'auto' }}>\n          <div className='bg-blue-600 text-lg font-bold text-white py-5 ' style={{ width: 'auto' }}>Add Booking</div>\n\n          <input value={name} required placeholder='Enter Name' onChange={(e) => setName(e.target.value)} type=\"text\" className='bg-slate-200 py-1 px-2 text-sm mt-16 w-2/3 rounded my-2 mx-2' />\n          <textarea value={address} required placeholder='Enter Address' onChange={(e) => setAddress(e.target.value)} type=\"text\" className='bg-slate-200 h-20 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2' />\n          <input value={number} required placeholder='Enter Phone Number' onChange={(e) => setNumber(e.target.value)} minLength={10} maxLength={10} type=\"Number\" className='bg-slate-200 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2' />\n          <label className='text-sm flex py-1 px-10 ml-7 text-sm w-2/3 rounded my-2 mx-2' htmlFor=\"\">Check in Date</label>\n          <input value={bookingDate} required placeholder='' type=\"date\" onChange={(e) => setBookingDate(e.target.value)} className='bg-slate-200 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2' /> <br />\n          <label className='text-sm flex py-1 px-10 ml-7 text-sm w-2/3 rounded my-2 mx-2' htmlFor=\"\">Check out Date</label>\n          <input value={checkout} required placeholder='' type=\"date\" onChange={(e) => setCheckout(e.target.value)} className='bg-slate-200 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2' />\n          <input value={numberOfppl} required placeholder='Number of People' onChange={(e) => setNumberOfppl(e.target.value)} minLength={10} maxLength={10} type=\"Number\" className='bg-slate-200 py-1 px-2 text-sm w-2/3 rounded my-2 mx-2' />\n\n          <div className=''>\n            <button type='submit' onClick={handleSubmit} className='mx-auto mt-5 bg-blue-500 px-5 py-1 text-white' style={{ width: '17vw' }}>Add</button>\n          </div>\n        </div>\n\n       {admin?\n        <div className='text-right md:w-1/4 sm:w-1/4 lg:w-1/4 mx-auto'>\n        <button onClick={toAllBookings} className='mt-5 bg-slate-500 px-5  py-2 text-white hover:bg-opacity-50 hover:bg-blue-500\n        transition duration-200\n        hover:border hover:text-black hover:border-black\n\n        '>View all Bookings</button>\n      </div>:null}\n      </div>\n    </div>\n  )\n}\n\nexport default Bookings"],"mappings":"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"},"metadata":{},"sourceType":"module"}