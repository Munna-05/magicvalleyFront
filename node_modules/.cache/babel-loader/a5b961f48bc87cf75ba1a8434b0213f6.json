{"ast":null,"code":"import _slicedToArray from\"/Users/amalp.k/Desktop/magicValley/magicvalley/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import moment from'moment';import{toast,ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import axios from'axios';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TransactionTable=function TransactionTable(_ref){var details=_ref.details,name=_ref.name,monthly=_ref.monthly,Date=_ref.Date,text=_ref.text;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),reload=_React$useState4[0],setreload=_React$useState4[1];var edit=function edit(id){toast.success('edit',{autoClose:500});};var deleteDoc;if(name===\"Income\"){deleteDoc=function deleteDoc(id,text){axios.delete(\"http://localhost:5000/admin/delete_income/\".concat(id)).then(function(res){if(res){console.log(res);toast.error(\"deleted Income of \".concat(text,\"/-\"),{autoClose:1000});setTimeout(function(){window.location.reload();},1200);setreload(!reload);}});};}else{deleteDoc=function deleteDoc(id,text){axios.delete(\"http://localhost:5000/admin/delete_expense/\".concat(id)).then(function(res){if(res){console.log(res);toast.error(\"deleted expense of \".concat(text,\"/-\"),{autoClose:1000});setTimeout(function(){window.location.reload();},1200);setreload(!reload);// window.location.reload()\n}});};}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto bg-slate-800 border relative shadow-md sm:rounded-lg\",style:{height:'70vh',width:'38vw'},children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm text-left text-gray-500 overflow-y-scroll dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-xs  text-gray-700 sticky top-0 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",className:\"py-3 text-center px-6\",children:[name,\" From\"]}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",className:\"py-3 text-center  px-6\",children:[name,\" Amount\"]}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"py-3 text-center px-6\",children:Date}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"py-3 text-center px-6\",children:\"Options\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:details.map(function(result){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"py-4 text-center px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\",children:result.text}),/*#__PURE__*/_jsx(\"td\",{className:\"py-4 px-6 text-center \".concat(text),children:result.amount}),/*#__PURE__*/_jsx(\"td\",{className:\"py-4 px-6 text-center\",children:moment(result.createdAt).format('lll')}),/*#__PURE__*/_jsx(\"td\",{className:\"py-4 px-6 flex align-center text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteDoc(result._id,result.amount);},className:\"mx-2 mt-2 text-xs  bg-red-500 text-white p-1 px-2 hover:bg-red-600 rounded-lg\",children:\"Delete\"})})]})});})})]})})]});};export default TransactionTable;","map":{"version":3,"names":["React","moment","toast","ToastContainer","axios","useEffect","TransactionTable","details","name","monthly","Date","text","useState","data","setData","reload","setreload","edit","id","success","autoClose","deleteDoc","delete","then","res","console","log","error","setTimeout","window","location","height","width","map","result","amount","createdAt","format","_id"],"sources":["/Users/amalp.k/Desktop/magicValley/magicvalley/src/Admin/AdminComponents/TransactionTable.jsx"],"sourcesContent":["import React from 'react'\nimport moment from 'moment'\nimport { toast, ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios';\nimport { useEffect } from 'react';\n\n\nconst TransactionTable = ({ details, name, monthly, Date, text }) => {\n    const [data,setData] = React.useState([])\n    const[reload,setreload] = React.useState(false)\n  \n    const edit = (id) => {\n        toast.success('edit', { autoClose: 500 })\n    }\n    let deleteDoc\n\n    if(name===\"Income\"){\n        deleteDoc = (id,text) => {\n            axios.delete(`http://localhost:5000/admin/delete_income/${id}`).then((res) => {\n                if (res) {\n                    console.log(res)\n                    toast.error(`deleted Income of ${text}/-`, { autoClose: 1000 })\n                    setTimeout(() => {\n                        window.location.reload()\n                    }, 1200);\n                    setreload(!reload)\n                }\n            })\n        }\n    }else{\n        deleteDoc = (id,text) => {\n            axios.delete(`http://localhost:5000/admin/delete_expense/${id}`).then((res) => {\n                if (res) {\n                    console.log(res)\n                    toast.error(`deleted expense of ${text}/-`, { autoClose: 1000 })\n                    setTimeout(() => {\n                        window.location.reload()\n                    }, 1200);\n                    setreload(!reload)\n                    // window.location.reload()\n\n                    \n                }\n            })\n        }\n    }\n\n    return (\n        <div>\n            <ToastContainer />\n\n            <div className={`overflow-x-auto bg-slate-800 border relative shadow-md sm:rounded-lg`} style={{ height: '70vh', width: '38vw' }}>\n                <table className=\"w-full text-sm text-left text-gray-500 overflow-y-scroll dark:text-gray-400\">\n                    <thead className=\"text-xs  text-gray-700 sticky top-0 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\">\n                        <tr>\n                            <th scope=\"col\" className=\"py-3 text-center px-6\">\n                                {name} From\n\n                            </th>\n                            <th scope=\"col\" className=\"py-3 text-center  px-6\">\n                                {name} Amount\n                            </th>\n                            <th scope=\"col\" className=\"py-3 text-center px-6\">\n                                {Date}\n                            </th>\n\n                            <th scope=\"col\" className=\"py-3 text-center px-6\">\n                                Options\n                            </th>\n\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {details.map((result) => {\n                            return (\n                                <>\n                                    <tr className=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\">\n                                        <th scope=\"row\" className=\"py-4 text-center px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\">\n                                            {result.text}\n                                        </th>\n                                        <td className={`py-4 px-6 text-center ${text}`}>\n                                            {result.amount}\n                                        </td>\n                                        <td className=\"py-4 px-6 text-center\">\n                                            {moment(result.createdAt).format('lll')}\n                                        </td>\n\n                                        <td className=\"py-4 px-6 flex align-center text-center\">\n                                            {/* <button onClick={()=>edit(result._id)} className=' text-xs mt-2  bg-blue-500 text-white px-3 py-1 hover:bg-blue-600 rounded-lg'>Edit</button> */}\n                                            <button onClick={() => deleteDoc(result._id,result.amount)} className='mx-2 mt-2 text-xs  bg-red-500 text-white p-1 px-2 hover:bg-red-600 rounded-lg'>Delete</button>\n                                        </td>\n\n                                    </tr>\n                                </>\n                            )\n                        })}\n\n                    </tbody>\n                </table>\n            </div>\n\n        </div>\n    )\n}\n\nexport default TransactionTable"],"mappings":"oIAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,OAAM,KAAM,QAAQ,CAC3B,OAASC,KAAK,CAAEC,cAAc,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAC9C,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CAAC,6IAGlC,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,MAA+C,IAAzCC,QAAO,MAAPA,OAAO,CAAEC,IAAI,MAAJA,IAAI,CAAEC,OAAO,MAAPA,OAAO,CAAEC,IAAI,MAAJA,IAAI,CAAEC,IAAI,MAAJA,IAAI,CAC1D,oBAAuBX,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC,oDAAlCC,IAAI,qBAACC,OAAO,qBACnB,qBAA0Bd,KAAK,CAACY,QAAQ,CAAC,KAAK,CAAC,qDAAzCG,MAAM,qBAACC,SAAS,qBAEtB,GAAMC,KAAI,CAAG,QAAPA,KAAI,CAAIC,EAAE,CAAK,CACjBhB,KAAK,CAACiB,OAAO,CAAC,MAAM,CAAE,CAAEC,SAAS,CAAE,GAAI,CAAC,CAAC,CAC7C,CAAC,CACD,GAAIC,UAAS,CAEb,GAAGb,IAAI,GAAG,QAAQ,CAAC,CACfa,SAAS,CAAG,mBAACH,EAAE,CAACP,IAAI,CAAK,CACrBP,KAAK,CAACkB,MAAM,qDAA8CJ,EAAE,EAAG,CAACK,IAAI,CAAC,SAACC,GAAG,CAAK,CAC1E,GAAIA,GAAG,CAAE,CACLC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChBtB,KAAK,CAACyB,KAAK,6BAAsBhB,IAAI,OAAM,CAAES,SAAS,CAAE,IAAK,CAAC,CAAC,CAC/DQ,UAAU,CAAC,UAAM,CACbC,MAAM,CAACC,QAAQ,CAACf,MAAM,EAAE,CAC5B,CAAC,CAAE,IAAI,CAAC,CACRC,SAAS,CAAC,CAACD,MAAM,CAAC,CACtB,CACJ,CAAC,CAAC,CACN,CAAC,CACL,CAAC,IAAI,CACDM,SAAS,CAAG,mBAACH,EAAE,CAACP,IAAI,CAAK,CACrBP,KAAK,CAACkB,MAAM,sDAA+CJ,EAAE,EAAG,CAACK,IAAI,CAAC,SAACC,GAAG,CAAK,CAC3E,GAAIA,GAAG,CAAE,CACLC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChBtB,KAAK,CAACyB,KAAK,8BAAuBhB,IAAI,OAAM,CAAES,SAAS,CAAE,IAAK,CAAC,CAAC,CAChEQ,UAAU,CAAC,UAAM,CACbC,MAAM,CAACC,QAAQ,CAACf,MAAM,EAAE,CAC5B,CAAC,CAAE,IAAI,CAAC,CACRC,SAAS,CAAC,CAACD,MAAM,CAAC,CAClB;AAGJ,CACJ,CAAC,CAAC,CACN,CAAC,CACL,CAEA,mBACI,oCACI,KAAC,cAAc,IAAG,cAElB,YAAK,SAAS,uEAAyE,CAAC,KAAK,CAAE,CAAEgB,MAAM,CAAE,MAAM,CAAEC,KAAK,CAAE,MAAO,CAAE,uBAC7H,eAAO,SAAS,CAAC,6EAA6E,wBAC1F,cAAO,SAAS,CAAC,8FAA8F,uBAC3G,mCACI,YAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,uBAAuB,WAC5CxB,IAAI,WAEJ,cACL,YAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,wBAAwB,WAC7CA,IAAI,aACJ,cACL,WAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,uBAAuB,UAC5CE,IAAI,EACJ,cAEL,WAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,uBAAuB,qBAE5C,GAEJ,EACD,cACR,uBACKH,OAAO,CAAC0B,GAAG,CAAC,SAACC,MAAM,CAAK,CACrB,mBACI,sCACI,YAAI,SAAS,CAAC,iGAAiG,wBAC3G,WAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,mFAAmF,UACxGA,MAAM,CAACvB,IAAI,EACX,cACL,WAAI,SAAS,iCAA2BA,IAAI,CAAG,UAC1CuB,MAAM,CAACC,MAAM,EACb,cACL,WAAI,SAAS,CAAC,uBAAuB,UAChClC,MAAM,CAACiC,MAAM,CAACE,SAAS,CAAC,CAACC,MAAM,CAAC,KAAK,CAAC,EACtC,cAEL,WAAI,SAAS,CAAC,yCAAyC,uBAEnD,eAAQ,OAAO,CAAE,yBAAMhB,UAAS,CAACa,MAAM,CAACI,GAAG,CAACJ,MAAM,CAACC,MAAM,CAAC,EAAC,CAAC,SAAS,CAAC,+EAA+E,oBAAgB,EACpK,GAEJ,EACN,CAEX,CAAC,CAAC,EAEE,GACJ,EACN,GAEJ,CAEd,CAAC,CAED,cAAe7B,iBAAgB"},"metadata":{},"sourceType":"module"}